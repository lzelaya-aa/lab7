<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>AJAX Form Example</title>
</head>
<body>
    <form id="myForm">
        <input type="text" id="firstName" placeholder="First Name">
        <input type="text" id="lastName" placeholder="Last Name">
        <button type="button" onclick="getDataFromForm()">Submit</button>
    </form>
    <p id="responseString"></p>
    
    <script>
        function getDataFromForm() {
            // Get the first name and last name from the form elements
            const firstName = document.getElementById("firstName").value;
            const lastName = document.getElementById("lastName").value;

            // Call runAjax and send the first and last names as arguments
            runAjax(firstName, lastName);
        }

        function runAjax(fname, lname) {
            // Create an AJAX request
            const xhr = new XMLHttpRequest();
            
            // Define the URL for the AJAX request (adjust the URL as needed)
            const url = "./ajax.php";

            // Add query parameters to the URL (first name and last name)
            const params = `fname=${fname}&lname=${lname}`;
            const completeUrl = `${url}?${params}`;

            // Open a GET request
            xhr.open("GET", completeUrl, true);

            // Set up a callback function to handle the response
            xhr.onload = function () {
                if (xhr.status === 200) {
                    // Check if the response is a string
                    if (typeof xhr.responseText === 'string') {
                        // Change the text of the paragraph element
                        document.getElementById("responseString").textContent = xhr.responseText;
                    } else {
                        // Handle an error
                        alert("Error " + xhr.responseText + " Occurred");
                    }
                }
            };

            // Send the request
            xhr.send();
        }
    </script>
</body>
</html>
